  <div *ngIf="!tickets" >
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="tickets">
    <button mat-raised-button color="primary" (click)="openForm(null)"
      matTooltip="Tambah Tiket" *ngIf="!isSolved">
        Buat Tiket Baru
    </button>

    <mat-accordion multi="true">
      <mat-expansion-panel *ngFor="let tkt of tickets" (opened)="toggleTable()">
        <mat-expansion-panel-header>
            <mat-panel-title>{{tkt.name}}</mat-panel-title>
            <mat-panel-description>{{tkt.creator.company + '-' + tkt.creator.name}}</mat-panel-description>
        </mat-expansion-panel-header>
        <div class="mainPanel">
          <div class="item" id="item-a">
            <p>{{tkt.problem}}</p>
          </div>
          <!-- Add the table inside ng-container to conditionally render it -->
          <div id="item-c" class="item">
              <!-- lazy loading -->
              <ng-container *ngComponentOutlet="ReplyTableComponent; injector: replyModuleInjector"></ng-container>
                <!-- Your table content goes here -->
          </div>

        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  
  <!-- <table mat-table [dataSource]="tickets" class="mat-elevation-z8" [hidden]="!tickets"
      matSort (matSortChange)="loadData()"
      matSortActive="defaultSortColumn" [matSortDirection]="defaultSortOrder">
   -->
    <!-- Id Column -->
    <!-- <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef style="width: 1% !important;">Nomor</th>
      <td mat-cell *matCellDef="let tc" class="tcenter">{{tc.id}}</td>
    </ng-container>  -->

    <!-- Kolom Tiket -->
    <!-- <ng-container matColumnDef="ticketId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nomor Tiket</th>
      <td mat-cell *matCellDef="let tc" >{{tc.id}}</td>
    </ng-container> -->
  
    <!-- Replies -->
    <!-- <ng-container matColumnDef="replies">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Jawaban</th>
      <td mat-cell *matCellDef="let tc" class="tcenter">{{tc.problem}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
  </table> -->
  <!-- Pagination directive -->
  <mat-paginator [hidden]="!tickets"
      (page)="getData($event)"
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons></mat-paginator>
